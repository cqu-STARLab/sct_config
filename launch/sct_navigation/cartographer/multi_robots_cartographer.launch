<launch>
    <arg name="load_rviz"    default="false"/>

    <arg name="base_frame"   default="base_link" />
    <arg name="odom_frame"   default="odom" />
    <arg name="map_frame"    default="map" />

    <arg name="robot1_name" default="sct1"/>
    <arg name="robot2_name" default="sct2"/>

    <group ns="$(arg robot1_name)">
        <rosparam command="load" file="$(find sct_config)/config/sct_navigation/gmapping/gmapping_params.yaml"/>

        <node name="cartographer_node" pkg="cartographer_ros"
          type="cartographer_node" args="
              -configuration_directory $(find sct_config)/config/sct_navigation/cartographer
              -configuration_basename cartographer_sct.lua"
          output="screen">
          <remap from="imu" to="ouster/imu"/>
        </node>

        <node name="cartographer_occupancy_grid_node" pkg="cartographer_ros"
            type="cartographer_occupancy_grid_node" args="-resolution 0.05" />
    </group>


    <group ns="$(arg robot2_name)">
        <node name="cartographer_node" pkg="cartographer_ros"
          type="cartographer_node" args="
              -configuration_directory $(find sct_config)/config/sct_navigation/cartographer
              -configuration_basename cartographer_sct.lua"
          output="screen">

          <remap from="imu" to="ouster/imu"/>
        </node>

        <node name="cartographer_occupancy_grid_node" pkg="cartographer_ros"
            type="cartographer_occupancy_grid_node" args="-resolution 0.05" />
    </group>
</launch>